<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        table { width: 100%; border-collapse: collapse; background: white; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        th { background: #333; color: white; }
        button { padding: 5px 10px; }
        .clear-btn { background: darkred; color: white; margin-top: 15px; padding: 10px 20px; }
    </style>
</head>
<body>
    <h1>Admin Dashboard</h1>
    <table id="orderTable">
        <thead>
            <tr>
                <th>Token</th>
                <th>Items</th>
                <th>Total</th>
                <th>Payment</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <button class="clear-btn" onclick="clearAllOrders()">Clear All Orders</button>

<script>
function loadOrders() {
    let orders = JSON.parse(localStorage.getItem("orders")) || [];
    let tbody = document.querySelector("#orderTable tbody");
    tbody.innerHTML = "";

    orders.forEach((order, index) => {
        let row = `
            <tr>
                <td>${order.token}</td>
                <td>${order.items.map(i => `${i.name} (${i.qty})`).join(", ")}</td>
                <td>â‚¹${order.total}</td>
                <td>${order.payment}</td>
                <td><button onclick="deleteOrder(${index})">Delete</button></td>
            </tr>
        `;
        tbody.innerHTML += row;
    });
}

function deleteOrder(index) {
    let orders = JSON.parse(localStorage.getItem("orders")) || [];
    orders.splice(index, 1);
    localStorage.setItem("orders", JSON.stringify(orders));
    loadOrders();
}

function clearAllOrders() {
    if (confirm("Clear all orders?")) {
        localStorage.removeItem("orders");
        loadOrders();
    }
}

loadOrders();
</script>
</body>
</html>
